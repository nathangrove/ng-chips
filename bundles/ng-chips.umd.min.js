!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng-chips",["exports","@angular/core","@angular/common"],t):t(e["ng-chips"]={},e.ng.core,e.ng.common)}(this,function(e,i,t){"use strict";var n=function(){function e(e,t){this.ref=e,this._iterableDiffers=t,this.selectorOpen=!1,this.searchString="",this.value=[],this.disabled=!1,this.options=[],this.emptyState="Select Tag",this.placeholder="+ Tag",this.keepopen=!1,this.multiple=!1,this.displayKey="display",this.valueKey="value",this.onChange=new i.EventEmitter,this.optionsPointer=-1,this.iterableDiffer=this._iterableDiffers.find([]).create(null)}return e.prototype.ngOnInit=function(){},e.prototype.add=function(e){this.value.push(e),this.keepopen&&this.getOptions().length&&this.openSelector(),this.optionsPointer=-1,this.onChange.next(this.value)},e.prototype.remove=function(t){var i=this;this.value=this.value.filter(function(e){return e[i.valueKey]!=t[i.valueKey]}),this.onChange.next(this.value)},e.prototype.getOptions=function(){var t=this,i=this;return this.value||(this.value=[]),this.options.filter(function(e){return-1==t.value.map(function(e){return e[t.valueKey]}).indexOf(e[t.valueKey])}).filter(function(e){return""==i.searchString||-1<e[t.displayKey].toLowerCase().indexOf(i.searchString.toLowerCase())})},e.prototype.toggleSelector=function(){(this.selectorOpen||!this.value.length||this.multiple)&&(this.selectorOpen?this.closeSelector():this.openSelector())},e.prototype.search=function(e){this.searchString=e.target.value,this.ref.detectChanges()},e.prototype.openSelector=function(){var e=this;setTimeout(function(){e.selectorOpen=!0},100)},e.prototype.closeSelector=function(){this.selectorOpen&&(this.selectorOpen=!1,this.searchString="",this.ref.detectChanges())},e.prototype.ngDoCheck=function(){var n=this;if(this.value&&this.iterableDiffer.diff(this.value)){var e=this.value.filter(function(e,t,i){return i.map(function(e){return e[n.valueKey]}).indexOf(e[n.valueKey])===t});this.value.length!==e.length&&(this.value=e)}},e.decorators=[{type:i.Component,args:[{selector:"ng-chips",template:'\n  <div id="ng-chips-wrapper" (click)="toggleSelector()">\n  \n    <div class="placeholder" *ngIf="!value.length">{{ emptyState }}</div>\n    \n      <div *ngFor="let chip of value" class="chipit">\n        <div [ngClass]="{\'disabled\': disabled, \'value\': true}">{{ chip[displayKey] }}</div>\n        <div class="remove" *ngIf="!disabled" (click)="remove(chip)">x</div>\n      </div>\n    \n      <div class="addition" *ngIf="value.length && getOptions().length && !disabled && multiple">{{ placeholder }}</div>\n    \n      <div class="clearfix"></div>\n    </div>\n  \n    <div id="ng-chips-selector" class="rounded" *ngIf="selectorOpen">\n      <input type="text" (keyup)="search($event)" class=\'search\' placeholder="Search" focusOnInit />\n    <div *ngFor="let option of getOptions()" (click)="add(option)" [ngClass]="{\'option\': true, \'focused\': getOptions()[optionsPointer] == option }">{{ option[displayKey] }}</div>\n  </div>\n  ',styles:['#ng-chips-wrapper{position:relative;line-height:1;min-height:50px;cursor:pointer;border:1px solid #d2d2d2;padding:5px;border-radius:2px}#ng-chips-wrapper .placeholder{float:left;color:grey;font-size:20px;margin-left:5px}#ng-chips-wrapper .chipit{float:left;background-color:#d6d6d6;border-radius:1000px;margin:3px;font-size:13px;height:32px;padding-left:12px}#ng-chips-wrapper .chipit .value{float:left;margin-right:4px;margin-top:9px}#ng-chips-wrapper .chipit .value.disabled{margin-right:12px}#ng-chips-wrapper .chipit .remove{text-align:center;float:left;background-color:#bdbdbd;color:#fff;border-radius:50%;width:24px;height:24px;margin:4px;padding-top:2px;font-size:18px}#ng-chips-wrapper .chipit:hover{background-color:#888;color:#fff}#ng-chips-wrapper .chipit:hover .remove{background-color:#fff;color:#888}#ng-chips-wrapper .addition{float:left;margin-top:12px;color:grey;font-size:13px}#ng-chips-wrapper .clearfix:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}#ng-chips-wrapper * html .clearfix{zoom:1}#ng-chips-selector{background-color:#fff;z-index:1000;position:absolute;border:1px solid #c9c9c9;padding:3px;min-width:300px;max-height:200px;overflow-y:scroll;overflow-x:hidden}#ng-chips-selector .search{width:90%;margin:5px;border-width:0 0 1px;border-style:solid;border-color:#c9c9c9;outline:0;box-shadow:none!important}#ng-chips-selector .option{padding:3px}#ng-chips-selector .option .focused,#ng-chips-selector .option:hover{background-color:#d3d3d3}#ng-chips-selector .rounded{border-radius:5px}'],host:{"(document:click)":"closeSelector()"}}]}],e.ctorParameters=function(){return[{type:i.ChangeDetectorRef},{type:i.IterableDiffers}]},e.propDecorators={value:[{type:i.Input}],disabled:[{type:i.Input}],options:[{type:i.Input}],emptyState:[{type:i.Input}],placeholder:[{type:i.Input}],keepopen:[{type:i.Input}],multiple:[{type:i.Input}],displayKey:[{type:i.Input}],valueKey:[{type:i.Input}],onChange:[{type:i.Output}]},e}(),o=function(){function e(e,t){this.renderer=e,this.elementRef=t,this.priority=0}return e.prototype.ngOnInit=function(){e.instances.push(this)},e.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){e.instances.splice(e.instances.indexOf(t),1)}),e.instances.every(function(e){return t.priority>=e.priority})&&this.renderer.invokeElementMethod(this.elementRef.nativeElement,"focus",[])},e.instances=[],e.decorators=[{type:i.Directive,args:[{selector:"[focusOnInit]"}]}],e.ctorParameters=function(){return[{type:i.Renderer},{type:i.ElementRef}]},e.propDecorators={priority:[{type:i.Input,args:["focusOnInit"]}]},e}(),r=function(){function e(){}return e.decorators=[{type:i.NgModule,args:[{imports:[t.CommonModule],declarations:[n,o],exports:[n]}]}],e}();e.ChipsComponent=n,e.ChipsModule=r,e.Éµa=o,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-chips.umd.min.js.map